Vue.config.devtools=UseDebug,Vue.config.debug=UseDebug,Vue.config.silent=!UseDebug,Vue.config.ignoredElements=["app","tutorial","oobe","wallpaper","home","modes","mode","piece","glyph","gild","value","checkbox","toggle","version","howto","icon","chrome","quit","divider","stage","gameover","clears","time","playarea","addtime","board","me","puzzle","hint"];var app=new Vue({el:"#app",data:{serviceWorker:"",storedVersion:0,currentVersion:"4.1.7",deviceHasTouch:!0,wallpaperNames:["square","circle","triangle","hexagon"],currentWallpaper:"",newVersionAvailable:!1,appTutorialUserHasSeen:!1,appTutorialCurrentStepIndex:0,appTutorialSteps:TutorialSteps,appTutorialBoardPieces:constructLevel("010020013110010112100220303221213211102001200313120",!0),appTutorialIsInPlay:!1,appTutorialMePiece:new PieceObject({color:"var(--color2)"}),appNotificationMessage:"",appSettingsAddTimeInterval:null,appSettingsModes:Modes,appSettingsSoundFX:new Howl({src:"../audio/phft4.mp3",volume:.5}),appSettingsSaveSettings:!0,appSettingsModeHardInterval:100,appSettingsModeHardInternalChangeCounterCount:0,appSettingsModeHardIntervalChangeCounterLimit:10,appSettingsNumberOfHighScoresShown:5,appSettingsPieceSize:10,appSettingsScoreTwinIncrement:10,appSettingsScoreSiblingIncrement:20,appSettingsScoreModeHardMultiplier:4,appSettingsThemes:Themes,appSettingsTotalNumberOfBoardPieces:16,appSettingsBoardGridSize:4,appVisualStateShowPageHighScores:!1,appVisualStateShowPageChallenge:!1,appVisualStateShowPageCredits:!1,appVisualStateShowPageGameOver:!1,appVisualStateShowPageHome:!0,appVisualStateShowPageOOBE:!1,appVisualStateShowPageHowToPlay:!1,appVisualStateShowPageSettings:!1,appVisualStateShowElementHint:!1,appVisualStateShowNotification:!1,appVisualStateShowElementFlyaway:!1,appVisualStateShowNewHighScoreElement:!1,gameCurrentIsPaused:!0,gameCurrentIsGameOver:!0,gameDailyChallenge:new AllLevelsObject({}),gameCurrentIsGameDailyChallenge:!1,gameDailyChallengeAlreadyScored:!1,gameDailyChallengeHasBeenStarted:!1,gameCurrentAllLevels:[],gameCurrentLevel:new SingleLevelObject({}),gameCurrentMePiece:{shape:"square"},gameCurrentBoardPieces:[],gameCurrentBoardScore:0,gameCurrentTotalScore:0,gameLastHighScore:new ScoreObject({}),gameCurrentStartingTime:181e3,gameCurrentTimer:181e3,gameCurrentNumberOfClears:0,gameCurrentNumberOfPerfectMatches:0,gameCurrentIsUserGuessWrong:!1,gameCurrentNumberOfFails:0,gameCurrentNumberOfMisses:0,gameCurrentHasBonusTimeHintDisplayed:!1,gameCurrentHintText:"Select pieces that share <b>at least 2</b> of my attributes: color, shape, or pattern.",gameCurrentHasAnyPieceEverBeenSelected:!1,gameLikenessNudgeHasBeenShown:!1,gameClickMeNudgeHasBeenShown:!1,userSettingsUseCats:!1,userHighScoresInfinite:[],userHighScoresEasy:[],userHighScoresHard:[],userSettingsUseAltPatterns:!1,userSettingsUseHints:!0,userSettingsUseSoundFX:!0,userSettingsUseDarkMode:!1,documentCssRoot:document.querySelector(":root")},methods:{NewGame(){note("NewGame() called"),this.gameCurrentAllLevels=[],this.NewBoard(),this.userHighScoresEasy.forEach((e=>{e.isCurrent=!1})),this.userHighScoresHard.forEach((e=>{e.isCurrent=!1})),this.userHighScoresInfinite.forEach((e=>{e.isCurrent=!1})),this.appVisualStateShowNewHighScoreElement=!1,this.gameCurrentTotalScore=0,this.gameCurrentIsGameOver=!1},CheckBoard(){note("CheckBoard() called"),this.appVisualStateShowElementHint=!1,this.gameCurrentIsUserGuessWrong=!1;let e=0,t=0;if(this.gameClickMeNudgeHasBeenShown=!0,!this.gameCurrentIsGameOver){let a=!0;if(this.gameCurrentBoardPieces.forEach((r=>{(r.isMatch&&!r.isSelected||!r.isMatch&&r.isSelected)&&(a=!1),r.isMatch&&(e++,r.isFullMatch?t+=this.appSettingsScoreTwinIncrement*parseInt(this.appSettingsModes.hard.isSelected?this.appSettingsScoreModeHardMultiplier:1):t+=this.appSettingsScoreSiblingIncrement*parseInt(this.appSettingsModes.hard.isSelected?this.appSettingsScoreModeHardMultiplier:1))})),0==e&&(t=(this.appSettingsScoreTwinIncrement+this.appSettingsScoreSiblingIncrement)*parseInt(this.appSettingsModes.hard.isSelected?this.appSettingsScoreModeHardMultiplier:1)),a)this.gameLikenessNudgeHasBeenShown=!0,this.gameCurrentTotalScore=this.gameCurrentTotalScore+t,this.appVisualStateShowElementHint=!1,this.gameCurrentHasAnyPieceEverBeenSelected=!0,0!==this.gameCurrentNumberOfMisses||this.appSettingsModes.infinite.isSelected||(this.gameCurrentNumberOfPerfectMatches++,this.gameCurrentTimer=this.gameCurrentTimer+3e3,this.appVisualStateShowElementFlyaway=!0,window.setTimeout((function(){app.appVisualStateShowElementFlyaway=!1}),100)),this.gameCurrentNumberOfClears++,this.gameCurrentLevel.completed=!0,this.NewBoard();else{if(this.gameCurrentNumberOfMisses>=1){this.appVisualStateShowElementHint=!0,this.gameCurrentHintText=0===e?"Some levels have zero matches.":1===e?"There is only <b>"+e+"</b> piece like me.":"There are a total of <b>"+e+"</b> pieces like me.";let t=!1;this.gameCurrentBoardPieces.forEach((e=>{e.nudge=!1,!t&&(e.isMatch&&!e.isSelected||!e.isMatch&&e.isSelected)&&(e.nudge=!0,t=!0)}))}this.gameCurrentNumberOfMisses++,this.gameCurrentNumberOfFails++,window.setTimeout((function(){app.gameCurrentIsUserGuessWrong=!0}),5)}}},NewBoard(){note("NewBoard() called"),this.AdjustPieceSizeBasedOnViewport(),this.gameCurrentBoardPieces=[],this.gameCurrentBoardScore=0,this.gameCurrentNumberOfMisses=0;let e=null;this.gameDailyChallengeHasBeenStarted&&this.gameDailyChallenge.allLevels.forEach(((t,a)=>{null!==e||t.completed||(error(a),e=t)})),null===e&&this.gameDailyChallengeHasBeenStarted?this.EndGame():(null===e&&(e=constructLevel(createLevelSource(),!0)),this.gameCurrentMePiece=e.me,this.gameCurrentLevel=e,e.board.forEach(((t,a)=>{t.delay=40*(e.board.length-a),this.gameCurrentBoardPieces.push(t),window.setTimeout((function(){t.hasDropped=!0,app.userSettingsUseSoundFX&&app.appSettingsSoundFX.play()}),t.delay)})))},TogglePieceSelection(e){if(note('TogglePieceSelection() called for: " this.gameCurrentBoardPieces['+this.gameCurrentBoardPieces.indexOf(e)+']"'),this.appVisualStateShowElementHint=!1,e.nudge=!1,!this.gameLikenessNudgeHasBeenShown){let t=0;t=e.color===this.gameCurrentMePiece.color?parseInt(t+1):t,t=e.backgroundImage===this.gameCurrentMePiece.backgroundImage?parseInt(t+1):t,t=e.shape===this.gameCurrentMePiece.shape?parseInt(t+1):t,t<2&&(this.appVisualStateShowElementHint=!0,this.gameCurrentHintText="Select pieces that share <b>at least 2</b> of my attributes: color, shape, or pattern."),this.gameLikenessNudgeHasBeenShown=!0}null!=navigator.vibrate&&navigator.vibrate(100),this.gameCurrentIsGameOver||(e.isSelected=!e.isSelected,this.gameCurrentHasAnyPieceEverBeenSelected=!0)},ShareApp(){let e={title:"Like Me?",text:"A game of matching likenesses!",url:"https://"+window.location.host};this.CheckForMobile()?navigator.share(e):(e="https://"+window.location.host,this.appVisualStateShowNotification=!0,this.appNotificationMessage="Copied game link to the clipboard.",navigator.clipboard.writeText(e))},ShareScore(){let e=document.getElementById("copyme").textContent;if(this.CheckForMobile()){let t={text:e};navigator.share(t)}else this.appVisualStateShowNotification=!0,this.appNotificationMessage="Daily challenge results copied to the clipboard.",navigator.clipboard.writeText(e)},GiveFeedback(){window.location="mailto:bigtentgames@icloud.com?subject=Feedback - Like Me v"+this.currentVersion},RestartGame(){note("RestartGame() called"),this.gameCurrentTimer=this.appSettingsModes.infinite.isSelected?0:this.gameCurrentStartingTime,this.gameCurrentNumberOfFails=0,this.gameCurrentNumberOfClears=0,this.gameCurrentNumberOfPerfectMatches=0,this.appVisualStateShowNotification=!1,this.appVisualStateShowPageHome=!1,this.appVisualStateShowPageGameOver=!1,this.appVisualStateShowElementHint=!1,this.gameCurrentIsPaused=!1,this.gameCurrentHintText="Select pieces that share <b>at least two</b> of my attributes (color, shape, pattern).",this.gameCurrentHasAnyPieceEverBeenSelected=!1,this.NewGame()},SelectMode(e){note('SelectMode(mode) called for:  "'+e.name+'"'),e!==this.appSettingsModes.hard||this.appSettingsModes.hard.isSelected?e!==this.appSettingsModes.easy||this.appSettingsModes.easy.isSelected?e!==this.appSettingsModes.infinite||this.appSettingsModes.infinite.isSelected||(this.appSettingsModes.easy.isSelected=!1,this.appSettingsModes.hard.isSelected=!1,this.appSettingsModes.infinite.isSelected=!0):(this.appSettingsModes.easy.isSelected=!0,this.appSettingsModes.hard.isSelected=!1,this.appSettingsModes.infinite.isSelected=!1):(this.appSettingsModes.easy.isSelected=!1,this.appSettingsModes.hard.isSelected=!0,this.appSettingsModes.infinite.isSelected=!1)},SelectTheme(e){note('SelectTheme(theme) called for: "'+e.name+'"'),this.appSettingsThemes.forEach((t=>{t.isSelected=e==t})),this.documentCssRoot.style.setProperty("--color1",e.color1),this.documentCssRoot.style.setProperty("--color2",e.color2),this.documentCssRoot.style.setProperty("--color3",e.color3),this.documentCssRoot.style.setProperty("--color3contrast",e.color3contrast),localStorage.setItem("userSettingsTheme",JSON.stringify(e.name)),this.GetRandomWallpaper()},UpdateApp(){if(!this.gameCurrentIsPaused&&!this.appVisualStateShowPageGameOver&&(0===this.gameCurrentNumberOfClears&&0===this.userHighScoresEasy.length&&(this.appSettingsModes.infinite.isSelected||this.gameLikenessNudgeHasBeenShown||this.gameCurrentStartingTime-this.gameCurrentTimer!=7e3?this.appSettingsModes.infinite.isSelected&&!this.gameLikenessNudgeHasBeenShown&&7e3===this.gameCurrentTimer&&(this.appVisualStateShowElementHint=!0,this.gameCurrentHintText="Select pieces that share <b>at least 2</b> of my attributes: color, shape, or pattern.",this.gameLikenessNudgeHasBeenShown=!0):(this.appVisualStateShowElementHint=!0,this.gameCurrentHintText="Select pieces that share <b>at least 2</b> of my attributes: color, shape, or pattern.",this.gameLikenessNudgeHasBeenShown=!0),(!this.appSettingsModes.infinite.isSelected&&!this.appVisualStateShowElementHint&&!this.gameClickMeNudgeHasBeenShown&&this.gameCurrentStartingTime-this.gameCurrentTimer>=25e3&&this.gameCurrentTimer%1e3==0||this.appSettingsModes.infinite.isSelected&&!this.appVisualStateShowElementHint&&!this.gameClickMeNudgeHasBeenShown&&this.gameCurrentTimer>=25e3&&this.gameCurrentTimer%1e4==0)&&(this.appVisualStateShowElementHint=!0,this.gameCurrentHintText="Remember to click the Me piece to check your work and move to the next level.",this.gameClickMeNudgeHasBeenShown=!0)),this.gameCurrentTimer>0||this.appSettingsModes.infinite.isSelected&&!this.gameCurrentIsGameOver?(this.appSettingsModeHardInternalChangeCounterCount++,this.appSettingsModes.infinite.isSelected?this.gameCurrentTimer=parseInt(this.gameCurrentTimer)+parseInt(this.appSettingsModeHardInterval):this.gameCurrentTimer=this.gameCurrentTimer-this.appSettingsModeHardInterval):this.gameCurrentIsGameOver||this.EndGame(),this.appSettingsModeHardInternalChangeCounterCount>=this.appSettingsModeHardIntervalChangeCounterLimit)){if(this.appVisualStateShowPageHome&&(this.appSettingsModes.hard.piece.shape=Shapes[getRandomInt(0,Shapes.length)],this.appSettingsModes.hard.piece.color=Colors[getRandomInt(0,Colors.length)],this.appSettingsModes.hard.piece.backgroundImage=BackgroundImages[getRandomInt(0,BackgroundImages.length)]),!this.gameCurrentIsGameOver&&this.appSettingsModes.hard.isSelected){let e=getRandomInt(0,this.gameCurrentBoardPieces.length),t=this.gameCurrentBoardPieces[e];t.shape=Shapes[getRandomInt(0,Shapes.length)],t.color=Colors[getRandomInt(0,Colors.length)],t.backgroundImage=BackgroundImages[getRandomInt(0,BackgroundImages.length)];let a=0;t.color===this.gameCurrentMePiece.color&&a++,t.shape===this.gameCurrentMePiece.shape&&a++,t.backgroundImage===this.gameCurrentMePiece.backgroundImage&&a++,t.isMatch=a>1,t.isFullMatch=3===a}this.appSettingsModeHardInternalChangeCounterCount=0}},GetMsToTime(e){var t=(e=(e-e%1e3)/1e3)%60,a=(e=(e-t)/60)%60,r=(e-a)/60,s=":"+("0"+t).slice(-2),i=0!=a?a:"",n=0!=r?r+":":"";return this.appSettingsModes.infinite.isSelected?n+i+s:i+s},DateDiffInDays:(e=new Date,t=new Date("7/30/2023"))=>(_number=Math.round((e-t)/864e5),_number),EndGame(){note("EndGame() called");let e=new ScoreObject({value:this.gameCurrentTotalScore,isDaily:this.gameCurrentIsGameDailyChallenge});this.gameCurrentIsGameDailyChallenge&&(e.dailyDate=this.gameDailyChallenge.date),this.appSettingsModes.easy.isSelected?(this.userHighScoresEasy.push(e),e===this.userScoresHighEasyByValue[0]&&(this.appVisualStateShowNewHighScoreElement=!0),localStorage.setItem("userHighScoresEasy",JSON.stringify(this.userHighScoresEasy))):this.appSettingsModes.hard.isSelected?(this.userHighScoresHard.push(e),e===this.userScoresHighHardByValue[0]&&(this.appVisualStateShowNewHighScoreElement=!0),localStorage.setItem("userHighScoresHard",JSON.stringify(this.userHighScoresHard))):this.appSettingsModes.infinite.isSelected&&(this.userHighScoresInfinite.push(e),localStorage.setItem("userHighScoresInfinite",JSON.stringify(this.userHighScoresInfinite))),e.isCurrent=!0,this.gameLastHighScore=e,this.AddBonusToScore(),this.gameCurrentLevel.completed=!0,this.gameCurrentIsGameDailyChallenge&&(this.gameDailyChallenge=new AllLevelsObject({})),this.gameCurrentIsGameDailyChallenge=!1,this.GetDailyChallenge(),this.gameCurrentIsGameOver=!0,this.gameDailyChallengeHasBeenStarted=!1,this.appVisualStateShowPageChallenge=!1,this.appVisualStateShowPageGameOver=!0},SetState(){this.gameDailyChallengeAlreadyScored=!1,this.gameDailyChallengeHasBeenStarted=!1,this.gameDailyChallenge.allLevelsSource="010"},HandleAppSettingsAddTimeInterval(){let e=1e3/(this.gameCurrentTimer/1e3);e=e>100?100:e,this.appSettingsAddTimeInterval=window.setInterval((function(){app.gameCurrentTimer>0?(app.gameCurrentTotalScore++,app.gameLastHighScore.value=app.gameCurrentTotalScore,app.gameCurrentTimer=app.gameCurrentTimer-1e3):(app.gameLastHighScore===app.userScoresHighEasyByValue[0]&&(app.appVisualStateShowNewHighScoreElement=!0),localStorage.setItem("userHighScoresEasy",JSON.stringify(app.userHighScoresEasy)),window.clearInterval(app.appSettingsAddTimeInterval))}),e)},AddBonusToScore(){note("AddBonusToScore() called"),this.gameCurrentTimer>0&&this.gameLastHighScore.isDaily&&this.gameCurrentNumberOfClears===this.gameDailyChallenge.allLevels.length&&window.setTimeout(this.HandleAppSettingsAddTimeInterval,1e3)},CheckIfUserHasScoredDailyChallenge(e=!1){return note("CheckIfUserHasScoredDailyChallenge() called"),this.gameDailyChallengeAlreadyScored=!1,_today=this.FormatDate(new Date),this.userHighScoresEasy.forEach((e=>{e.isDaily&&void 0!==e.dailyDate&&this.FormatDate(e.dailyDate)===_today&&(this.gameDailyChallengeAlreadyScored=!0)})),this.gameDailyChallengeAlreadyScored},ToggleUsingHints(e){note("ToggleUsingHints(event) called"),e.stopPropagation(),e.preventDefault(),this.userSettingsUseHints=!this.userSettingsUseHints,this.userSettingsUseHints||this.gameCurrentBoardPieces.forEach((e=>{e.nudge=!1})),localStorage.setItem("userSettingsUseHints",this.userSettingsUseHints)},ToggleUsingCats(e){note("ToggleUsingCats(event) called"),null!=e&&(e.stopPropagation(),e.preventDefault()),this.userSettingsUseCats=!this.userSettingsUseCats,localStorage.setItem("userSettingsUseCats",this.userSettingsUseCats),this.GetRandomWallpaper()},ToggleUsingAltPattern(e){note("ToggleUsingAltPattern(event) called"),null!=e&&(e.stopPropagation(),e.preventDefault()),this.userSettingsUseAltPatterns=!this.userSettingsUseAltPatterns,localStorage.setItem("userSettingsUseAltPatterns",this.userSettingsUseAltPatterns)},ToggleUsingSound(e){note("ToggleUsingSound(event) called"),e.stopPropagation(),e.preventDefault(),this.userSettingsUseSoundFX=!this.userSettingsUseSoundFX,localStorage.setItem("userSettingsUseSoundFX",this.userSettingsUseSoundFX)},ToggleUsingDarkMode(e){note("ToggleUsingDarkMode(event) called"),null!=e&&(e.stopPropagation(),e.preventDefault()),this.userSettingsUseDarkMode=!this.userSettingsUseDarkMode,document.getElementById("themeColor").content=this.userSettingsUseDarkMode?"#000000":"#f0f0f0",localStorage.setItem("userSettingsUseDarkMode",this.userSettingsUseDarkMode)},ToggleGamePause(e,t){note("ToggleGamePause(event) called"),null!=e&&(e.stopPropagation(),e.preventDefault()),this.gameCurrentIsPaused=t,localStorage.setItem("gameCurrentIsPaused",this.gameCurrentIsPaused)},ResetModalContentScrollPositions(){note("ResetModalContentScrollPositions() called");let e=document.getElementsByTagName("content");for(let t=0;t<e.length;t++){e[t].scroll({top:0})}},ToggleChallenge(e,t){note("ToggleChallenge(event, value) called"),null!=e&&(e.stopPropagation(),e.preventDefault()),this.ResetModalContentScrollPositions(),this.appVisualStateShowPageChallenge=t},ToggleHowToPlay(e,t){note("ToggleHowToPlay(event, value) called"),e.stopPropagation(),e.preventDefault(),this.ResetModalContentScrollPositions(),this.appTutorialIsInPlay=!0},ToggleOOBE(e,t){note("ToggleOOBE(event, value) called"),null!=e&&(e.stopPropagation(),e.preventDefault()),this.ResetModalContentScrollPositions(),this.appVisualStateShowPageOOBE=t},ToggleHighScores(e,t){note("ToggleHighScores(event, value) called"),e.stopPropagation(),e.preventDefault(),this.ResetModalContentScrollPositions(),this.appVisualStateShowPageGameOver=!1,this.appVisualStateShowPageHome=!0,this.appVisualStateShowPageHighScores=t},ToggleSettings(e,t){note("ToggleSettings(event, value) called"),e.stopPropagation(),e.preventDefault(),this.ResetModalContentScrollPositions(),this.appVisualStateShowPageSettings=t},ToggleCredits(e,t){note("ToggleCredits(event, value) called"),e.stopPropagation(),e.preventDefault(),this.ResetModalContentScrollPositions(),this.appVisualStateShowPageCredits=t},GetUserSettings(){note("GetUserSettings() called");0===localStorage.length?(this.appTutorialUserHasSeen=!1,this.appTutorialIsInPlay=!0):this.appTutorialUserHasSeen=!0;let e=localStorage.getItem("appSettingsModes");null!=e&&(e=JSON.parse(e),this.appSettingsModes.easy.isSelected=e.easy.isSelected,this.appSettingsModes.hard.isSelected=e.hard.isSelected,this.appSettingsModes.infinite.isSelected=e.infinite.isSelected);let t=localStorage.getItem("userSettingsUseHints");null!=t&&(t=JSON.parse(t),this.userSettingsUseHints=t);let a=localStorage.getItem("userSettingsUseCats");null!=a&&(a=JSON.parse(a),this.userSettingsUseCats=a);let r=localStorage.getItem("userSettingsUseAltPatterns");null!=r&&(r=JSON.parse(r),this.userSettingsUseAltPatterns=r);let s=localStorage.getItem("userSettingsUseSoundFX");null!=s&&(s=JSON.parse(s),this.userSettingsUseSoundFX=s);let i=localStorage.getItem("userSettingsUseDarkMode");null!=i&&(i=JSON.parse(i),this.userSettingsUseDarkMode=i,document.getElementById("themeColor").content=this.userSettingsUseDarkMode?"#000000":"#f0f0f0");let n=localStorage.getItem("userSettingsTheme");try{let e="";null!=n&&(n=JSON.parse(n),this.appSettingsThemes.forEach((t=>{t.name==n&&(e=t)}))),""!=e&&this.SelectTheme(e)}catch(e){error("_userSettingsTheme error: "+e),_gameDataCorrupt=!0}let l=localStorage.getItem("userHighScoresEasy");try{void 0!==l&&"[]"!==l&&null!==l&&(l=JSON.parse(l),l.forEach((e=>{this.userHighScoresEasy.push(new ScoreObject({date:new Date(e.date),isDaily:e.isDaily,value:e.value,dailyDate:null!=e.dailyDate?new Date(e.dailyDate):new Date(e.date)}))})))}catch(e){error("_userHighScoresEasy error: "+e),_gameDataCorrupt=!0}let o=localStorage.getItem("userHighScoresHard");try{void 0!==o&&"[]"!==o&&null!==o&&(o=JSON.parse(o),o.forEach((e=>{this.userHighScoresHard.push(new ScoreObject({date:new Date(e.date),value:e.value}))})))}catch(e){error("_userHighScoresHard error: "+e),_gameDataCorrupt=!0}let g=localStorage.getItem("gameCurrentHasAnyPieceEverBeenSelected");try{null!=g&&(this.gameCurrentHasAnyPieceEverBeenSelected=JSON.parse(g))}catch(e){error("_gameCurrentHasAnyPieceEverBeenSelected error: "+e),_gameDataCorrupt=!0}let h=localStorage.getItem("gameLikenessNudgeHasBeenShown");try{null!=h&&(this.gameLikenessNudgeHasBeenShown=!0===JSON.parse(h))}catch(e){error("_gameLikenessNudgeHasBeenShown error: "+e),_gameDataCorrupt=!0}let S=localStorage.getItem("gameClickMeNudgeHasBeenShown");try{null!=S&&(this.gameClickMeNudgeHasBeenShown=!0===JSON.parse(S))}catch(e){error("_gameClickMeNudgeHasBeenShown error: "+e),_gameDataCorrupt=!0}},ClearAllUserScores(){note("ClearAllUserScores() called"),window.confirm("Are you sure you want to clear all of your scores?")&&(this.userHighScoresEasy=[],this.userHighScoresHard=[],this.userHighScoresInfinite=[],localStorage.setItem("userHighScoresEasy",JSON.stringify(this.userHighScoresEasy)),localStorage.setItem("userHighScoresHard",JSON.stringify(this.userHighScoresHard)),localStorage.setItem("userHighScoresInfinite",JSON.stringify(this.userHighScoresInfinite)))},RestoreCurrentGame(){note("RestoreCurrentGame() called");let e=!1,t=localStorage.getItem("appSettingsModeHardInterval");try{null!=t&&(this.appSettingsModeHardInterval=t)}catch(t){error("_appSettingsModeHardInterval error: "+t),e=!0}let a=localStorage.getItem("appSettingsModeHardInternalChangeCounterCount");try{null!=a&&(this.appSettingsModeHardInternalChangeCounterCount=a)}catch(t){error("_appSettingsModeHardInternalChangeCounterCount error: "+t),e=!0}let r=localStorage.getItem("appSettingsModeHardIntervalChangeCounterLimit");try{null!=r&&(this.appSettingsModeHardIntervalChangeCounterLimit=r)}catch(t){error("_appSettingsModeHardIntervalChangeCounterLimit error: "+t),e=!0}let s=localStorage.getItem("appSettingsPieceSize");try{null!=s&&(this.appSettingsPieceSize=s)}catch(t){error("_appSettingsPieceSize error: "+t),e=!0}let i=localStorage.getItem("appSettingsTotalNumberOfBoardPieces");try{null!=i&&(this.appSettingsTotalNumberOfBoardPieces=i)}catch(t){error("_appSettingsTotalNumberOfBoardPieces error: "+t),e=!0}let n=localStorage.getItem("appSettingsBoardGridSize");try{null!=n&&(this.appSettingsBoardGridSize=n)}catch(t){error("_appSettingsBoardGridSize error: "+t),e=!0}let l=localStorage.getItem("appVisualStateShowPageHome");try{null!=l&&(this.appVisualStateShowPageHome=JSON.parse(l))}catch(t){error("_appVisualStateShowPageHome error: "+t),e=!0}let o=localStorage.getItem("appVisualStateShowPageHowToPlay");try{null!=o&&(this.appVisualStateShowPageHowToPlay=JSON.parse(o))}catch(t){error("_appVisualStateShowPageHowToPlay error: "+t),e=!0}let g=localStorage.getItem("appVisualStateShowPageSettings");try{null!=g&&(this.appVisualStateShowPageSettings=JSON.parse(g))}catch(t){error("_appVisualStateShowPageSettings error: "+t),e=!0}let h=localStorage.getItem("appVisualStateShowElementHint");try{null!=h&&(this.appVisualStateShowElementHint=JSON.parse(h))}catch(t){error("_appVisualStateShowElementHint error: "+t),e=!0}let S=localStorage.getItem("appVisualStateShowElementFlyaway");try{null!=S&&(this.appVisualStateShowElementFlyaway=JSON.parse(S))}catch(t){error("_appVisualStateShowElementFlyaway error: "+t),e=!0}let u=localStorage.getItem("gameCurrentIsPaused");try{null!=u&&(u=JSON.parse(u),this.gameCurrentIsPaused=u)}catch(t){error("_gameCurrentIsPaused error: "+t),e=!0}let p=localStorage.getItem("gameDailyChallenge");try{null!=p&&(p=JSON.parse(p),_letAllLevels=new AllLevelsObject({date:new Date(p.date)}),p.allLevels.forEach((e=>{let t=new SingleLevelObject({me:e.me,completed:e.completed});e.board.forEach((e=>{t.board.push(new PieceObject(e))})),_letAllLevels.allLevels.push(t)})),this.gameDailyChallenge=_letAllLevels)}catch(t){error("_gameDailyChallenge error: "+t),e=!0}let c=localStorage.getItem("gameCurrentIsGameDailyChallenge");try{null!=c&&(c=JSON.parse(c),this.gameCurrentIsGameDailyChallenge=c)}catch(t){error("_gameCurrentIsGameDailyChallenge error: "+t),e=!0}let m=localStorage.getItem("gameDailyChallengeHasBeenStarted");try{null!=m&&(m=JSON.parse(m),this.gameDailyChallengeHasBeenStarted=m)}catch(t){error("_gameDailyChallengeHasBeenStarted error: "+t),e=!0}let d=localStorage.getItem("gameCurrentAllLevels");try{null!=d&&(d=JSON.parse(d),this.gameCurrentAllLevels=d)}catch(t){error("_gameCurrentAllLevels error: "+t),e=!0}let C=localStorage.getItem("gameCurrentLevel");try{if(null!=C){C=JSON.parse(C);let e=new SingleLevelObject({me:C.me,completed:C.completed});if(this.gameCurrentIsGameDailyChallenge)for(let t=0;t<this.gameDailyChallenge.allLevels.length;t++){const a=this.gameDailyChallenge.allLevels[t];if(!a.completed){e=a;break}}else C.board.forEach((t=>{e.board.push(new PieceObject(t))}));this.gameCurrentLevel=e}}catch(t){error("_gameCurrentLevel error: "+t),e=!0}let I=localStorage.getItem("gameCurrentMePiece");try{null!=I&&(I=JSON.parse(I),this.gameCurrentMePiece=new PieceObject(I))}catch(t){error("_gameCurrentMePiece error: "+t),e=!0}let H=localStorage.getItem("gameCurrentBoardPieces");try{null!=H&&(H=JSON.parse(H),this.gameCurrentBoardPieces=[],H.forEach((e=>{this.gameCurrentBoardPieces.push(new PieceObject(e))})))}catch(t){error("_gameCurrentBoardPieces error: "+t),e=!0}let y=localStorage.getItem("gameCurrentStartingTime");try{null!=y&&(this.gameCurrentStartingTime=y)}catch(t){error("_gameCurrentStartingTime error: "+t),e=!0}let w=localStorage.getItem("gameCurrentTimer");try{null!=w&&(this.gameCurrentTimer=w)}catch(t){error("_gameCurrentTimer error: "+t),e=!0}let v=localStorage.getItem("gameCurrentNumberOfClears");try{null!=v&&(this.gameCurrentNumberOfClears=v)}catch(t){error("_gameCurrentNumberOfClears error: "+t),e=!0}let f=localStorage.getItem("gameCurrentNumberOfPerfectMatches");try{null!=f&&(this.gameCurrentNumberOfPerfectMatches=f)}catch(t){error("_gameCurrentNumberOfPerfectMatches error: "+t),e=!0}let T=localStorage.getItem("gameCurrentIsUserGuessWrong");try{null!=T&&(this.gameCurrentIsUserGuessWrong=JSON.parse(T))}catch(t){error("_gameCurrentIsUserGuessWrong error: "+t),e=!0}let P=localStorage.getItem("gameCurrentNumberOfFails");try{null!=P&&(this.gameCurrentNumberOfFails=P)}catch(t){error("_gameCurrentNumberOfFails error: "+t),e=!0}let M=localStorage.getItem("gameCurrentNumberOfMisses");try{null!=M&&(this.gameCurrentNumberOfMisses=M)}catch(t){error("_gameCurrentNumberOfMisses error: "+t),e=!0}let O=localStorage.getItem("gameCurrentHintText");try{null!=O&&(this.gameCurrentHintText=O)}catch(t){error("_gameCurrentHintText error: "+t),e=!0}let N=localStorage.getItem("gameCurrentTotalScore");try{null!=N&&(this.gameCurrentTotalScore=parseInt(N))}catch(t){error("_gameCurrentTotalScore error: "+t),e=!0}this.CheckIfUserHasScoredDailyChallenge(),e&&(this.gameCurrentIsGameOver=!0,this.NewGame())},GetRandomWallpaper(){note("GetRandomWallpaper() called"),this.currentWallpaper=this.wallpaperNames[getRandomInt(0,this.wallpaperNames.length)],document.getElementsByTagName("wallpaper")[0].className=this.currentWallpaper},InitializeGame(){announce("Game Initialized"),this.AdjustPieceSizeBasedOnViewport(),this.CheckForMobile(),this.GetRandomWallpaper();let e=localStorage.getItem("onemoretime");try{null!=e&&(e=JSON.parse(e),e&&(localStorage.setItem("onemoretime",!1),window.location.reload(!0)))}catch(e){error("_onemoretime error: "+e)}let t=localStorage.getItem("newVersionAvailable");try{null!=t&&(this.newVersionAvailable=JSON.parse(t))}catch(e){error("_newVersionAvailable error: "+e)}let a=localStorage.getItem("storedVersion");try{null!=a&&(this.storedVersion=a)}catch(e){a=null}let r=localStorage.getItem("gameCurrentIsGameOver");try{null!=r&&(this.gameCurrentIsGameOver=JSON.parse(r))}catch(e){this.gameCurrentIsGameOver=!0}this.GetUserSettings(),this.gameCurrentIsGameOver||this.RestoreCurrentGame(),this.updateInterval=window.setInterval(this.UpdateApp,this.appSettingsModeHardInterval)},HandleOnPageHideEvent(){window.clearInterval(this.updateInterval),this.appSettingsSoundFX.unload(),this.appSettingsSaveSettings&&(localStorage.setItem("storedVersion",this.currentVersion),localStorage.setItem("appSettingsModes",JSON.stringify(this.appSettingsModes)),localStorage.setItem("appSettingsModeHardInterval",this.appSettingsModeHardInterval),localStorage.setItem("appSettingsModeHardInternalChangeCounterCount",this.appSettingsModeHardInternalChangeCounterCount),localStorage.setItem("appSettingsModeHardIntervalChangeCounterLimit",this.appSettingsModeHardIntervalChangeCounterLimit),localStorage.setItem("appSettingsPieceSize",this.appSettingsPieceSize),localStorage.setItem("appSettingsTotalNumberOfBoardPieces",this.appSettingsTotalNumberOfBoardPieces),localStorage.setItem("appSettingsBoardGridSize",this.appSettingsBoardGridSize),localStorage.setItem("appVisualStateShowPageHome",JSON.stringify(this.appVisualStateShowPageHome)),localStorage.setItem("appVisualStateShowPageHowToPlay",JSON.stringify(this.appVisualStateShowPageHowToPlay)),localStorage.setItem("appVisualStateShowPageSettings",JSON.stringify(this.appVisualStateShowPageSettings)),localStorage.setItem("appVisualStateShowElementHint",JSON.stringify(this.appVisualStateShowElementHint)),localStorage.setItem("appVisualStateShowElementFlyaway",JSON.stringify(this.appVisualStateShowElementFlyaway)),localStorage.setItem("gameDailyChallenge",JSON.stringify(this.gameDailyChallenge)),localStorage.setItem("gameCurrentIsGameDailyChallenge",JSON.stringify(this.gameCurrentIsGameDailyChallenge)),localStorage.setItem("gameDailyChallengeHasBeenStarted",JSON.stringify(this.gameDailyChallengeHasBeenStarted)),localStorage.setItem("gameCurrentAllLevels",JSON.stringify(this.gameCurrentAllLevels)),localStorage.setItem("gameCurrentLevel",JSON.stringify(this.gameCurrentLevel)),localStorage.setItem("gameCurrentIsGameOver",JSON.stringify(this.gameCurrentIsGameOver)),localStorage.setItem("gameCurrentMePiece",JSON.stringify(this.gameCurrentMePiece)),localStorage.setItem("gameCurrentBoardPieces",JSON.stringify(this.gameCurrentBoardPieces)),localStorage.setItem("gameCurrentStartingTime",this.gameCurrentStartingTime),localStorage.setItem("gameCurrentTimer",this.gameCurrentTimer),localStorage.setItem("gameCurrentNumberOfClears",this.gameCurrentNumberOfClears),localStorage.setItem("gameCurrentNumberOfPerfectMatches",this.gameCurrentNumberOfPerfectMatches),localStorage.setItem("gameCurrentIsUserGuessWrong",JSON.stringify(this.gameCurrentIsUserGuessWrong)),localStorage.setItem("gameCurrentNumberOfFails",this.gameCurrentNumberOfFails),localStorage.setItem("gameCurrentNumberOfMisses",this.gameCurrentNumberOfMisses),localStorage.setItem("gameCurrentHintText",this.gameCurrentHintText),localStorage.setItem("gameCurrentTotalScore",this.gameCurrentTotalScore),localStorage.setItem("gameCurrentHasAnyPieceEverBeenSelected",JSON.stringify(this.gameCurrentHasAnyPieceEverBeenSelected)),localStorage.setItem("gameLikenessNudgeHasBeenShown",JSON.stringify(this.gameLikenessNudgeHasBeenShown)),localStorage.setItem("gameClickMeNudgeHasBeenShown",JSON.stringify(this.gameClickMeNudgeHasBeenShown)),localStorage.setItem("userSettingsUseCats",this.userSettingsUseCats),localStorage.setItem("userSettingsUseAltPatterns",this.userSettingsUseAltPatterns),localStorage.setItem("userSettingsUseHints",this.userSettingsUseHints),localStorage.setItem("userSettingsUseSoundFX",this.userSettingsUseSoundFX),localStorage.setItem("userSettingsUseDarkMode",this.userSettingsUseDarkMode),localStorage.setItem("appTutorialUserHasSeen",JSON.stringify(this.appTutorialUserHasSeen)))},ChangeTutorialPiecesToCats(e){let t=e.replace("pieces","cats");return this.userSettingsUseCats?t:e},HandleSkipTutorial(){note("HandleSkipTutorial() called"),this.appTutorialIsInPlay=!1,this.appTutorialUserHasSeen=!0,this.appTutorialCurrentStepIndex=0,localStorage.setItem("appTutorialUserHasSeen",!0)},HandleDoneTutorial(){note("HandleDoneTutorial() called"),this.HandleSkipTutorial(),this.RestartGame()},HandleTutorialNext(){note("HandleTutorialNext() called"),this.appTutorialCurrentStepIndex++},HandleTutorialBack(){note("HandleTutorialBack() called"),this.appTutorialCurrentStepIndex>0&&this.appTutorialCurrentStepIndex--},HandleTutorialCheck(){if(note("HandleTutorialCheck() called"),this.appTutorialCurrentStepIndex>3){let e=!0;this.appTutorialBoardPieces.board.forEach(((t,a)=>{(a<4&&!t.isSelected||a>=4&&t.isSelected)&&(e=!1)})),e?(this.appTutorialBoardPieces.board.forEach(((e,t)=>{e.isSelected=!1})),this.appTutorialCurrentStepIndex=this.appTutorialSteps.length-2,this.HandleTutorialNext()):(this.gameCurrentIsUserGuessWrong=!0,window.setTimeout((function(){app.gameCurrentIsUserGuessWrong=!1}),500))}},HandleOnPageShowEvent(){note("HandleOnPageShowEvent() called"),this.appSettingsSoundFX=new Howl({src:"../audio/phft4.mp3",volume:.5}),window.clearInterval(this.updateInterval),this.updateInterval=window.setInterval(this.UpdateApp,this.appSettingsModeHardInterval),this.GetDailyChallenge(),this.CheckForServiceWorkerUpdate()},CheckForServiceWorkerUpdate(){"serviceWorker"in navigator&&navigator.serviceWorker.getRegistrations().then((function(e){for(let t of e)t.update()}))},HandleOnVisibilityChange(e){note("HandleOnVisibilityChange() called"),"visible"===document.visibilityState&&this.GetDailyChallenge(),this.CheckForServiceWorkerUpdate()},AdjustPieceSizeBasedOnViewport(){this.appSettingsPieceSize=window.innerWidth<450?(window.innerWidth-60)/this.appSettingsBoardGridSize+"px":400/this.appSettingsBoardGridSize+"px",this.documentCssRoot.style.setProperty("--pieceSize",this.appSettingsPieceSize),this.appSettingsTotalNumberOfBoardPieces=window.innerHeight<234?12:16},async GetDailyChallenge(){note("GetDailyChallenge() called"),this.gameCurrentIsGameDailyChallenge||readDailyChallengeFile((function(e,t){this.gameDailyChallenge=new AllLevelsObject({}),announce(t),null!=e&&(null!==app.gameDailyChallenge&&void 0!==app.gameDailyChallenge&&""!==app.gameDailyChallenge.allLevelsSource||(app.gameDailyChallenge=new AllLevelsObject({}),constructAllLevels(e,app.gameDailyChallenge),app.CheckIfUserHasScoredDailyChallenge(!0)))}))},StartDailyChallenge(){note("StartDailyChallenge() called"),this.SelectMode(this.appSettingsModes.easy),this.gameDailyChallengeHasBeenStarted=!0,this.gameCurrentIsGameDailyChallenge=!0,this.RestartGame()},HandleOnResizeEvent(){this.AdjustPieceSizeBasedOnViewport()},FormatDate:e=>new Date(e).toLocaleDateString(),GetMonthAndDay(e){const t=new Date(e);return`${t.toLocaleString("default",{month:"short"})} ${t.getDate()}`},NumberWithCommas:e=>e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),CheckForMobile(){let e="ontouchstart"in document.documentElement;return this.deviceHasTouch=e,e},HandleKeyUp(e){note("HandleKeyUp(event) called");let t=-1;switch(this.appSettingsThemes.forEach(((e,a)=>{e.isSelected&&(t=a)})),e.key){case"]":t=t==this.appSettingsThemes.length-1?0:t+1,this.SelectTheme(this.appSettingsThemes[t]);break;case"[":t=0==t?this.appSettingsThemes.length-1:t-1,this.SelectTheme(this.appSettingsThemes[t]);break;case"/":this.ToggleUsingDarkMode();break;case"c":this.ToggleUsingCats();break;case"p":this.ToggleUsingAltPattern();break;case"1":case"2":case"3":case"4":break;case"Enter":case" ":this.appTutorialIsInPlay||this.gameCurrentIsGameOver||this.appVisualStateShowPageChallenge?this.appVisualStateShowPageChallenge?this.EndGame():this.appTutorialIsInPlay&&(this.appTutorialCurrentStepIndex<this.appTutorialSteps.length-1?this.HandleTutorialNext():this.HandleSkipTutorial()):this.CheckBoard();break;case"Escape":this.ClearEphemeralVisualStates();break}},ClearEphemeralVisualStates(){app.appVisualStateShowNotification=!1,app.appVisualStateShowElementHint=!1,app.gameCurrentIsGameOver&&(app.appVisualStateShowPageHome=!0),app.appTutorialIsInPlay&&app.HandleSkipTutorial(),app.appVisualStateShowPageSettings=!1,app.appVisualStateShowPageHighScores=!1,app.appVisualStateShowPageHowToPlay=!1,app.appVisualStateShowPageCredits=!1,app.appVisualStateShowPageChallenge=!1,app.appVisualStateShowElementHint=!1,app.appVisualStateShowPageGameOver=!1},HandleUpdateAppButtonClick(){note("HandleUpdateAppButtonClick() called"),this.newVersionAvailable=!1,localStorage.setItem("newVersionAvailable",this.newVersionAvailable),""!==this.serviceWorker?this.serviceWorker.postMessage({action:"skipWaiting"}):window.location.reload(!0)},HandleServiceWorkerRegistration(){note("HandleServiceWorkerRegistration() called"),"serviceWorker"in navigator&&navigator.serviceWorker.register("/sw.js").then((e=>{e.addEventListener("updatefound",(()=>{this.serviceWorker=e.installing,this.serviceWorker.addEventListener("statechange",(()=>{switch(this.serviceWorker.state){case"installed":navigator.serviceWorker.controller&&(this.newVersionAvailable=!0,localStorage.setItem("newVersionAvailable",this.newVersionAvailable));break}}))}))}))}},mounted(){if(this.HandleServiceWorkerRegistration(),this.InitializeGame(),window.addEventListener("keyup",this.HandleKeyUp),window.addEventListener("pageshow",this.HandleOnPageShowEvent),window.addEventListener("visibilitychange",this.HandleOnVisibilityChange),window.addEventListener("pagehide",this.HandleOnPageHideEvent),window.addEventListener("resize",this.HandleOnResizeEvent),null!=navigator.serviceWorker){let e;navigator.serviceWorker.addEventListener("message",this.HandleServiceWorkerWaiting),navigator.serviceWorker.addEventListener("controllerchange",(function(){e||(localStorage.setItem("onemoretime",!0),window.location.reload(),e=!0)}))}},computed:{userScoresHighHardByValue:function(){return this.userHighScoresHard.sort((function(e,t){return e.value<t.value?1:e.value>t.value?-1:0})).flat().slice(0,this.appSettingsNumberOfHighScoresShown)},userScoresHighEasyByValue:function(){return this.userHighScoresEasy.sort((function(e,t){return e.value<t.value?1:e.value>t.value?-1:0})).flat().slice(0,this.appSettingsNumberOfHighScoresShown)},userScoresHighInfiniteByValue:function(){return this.userHighScoresInfinite.sort((function(e,t){return e.value<t.value?1:e.value>t.value?-1:0})).flat().slice(0,this.appSettingsNumberOfHighScoresShown)}}});